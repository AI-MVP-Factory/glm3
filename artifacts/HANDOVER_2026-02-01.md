# COMPREHENSIVE HANDOVER - SOLO Project
**Date:** 2026-02-01
**Session:** Mac (glm3) - Strategic Coordinator
**Status:** ACTIVE - Ready for next session

---

## ğŸš¨ CRITICAL LESSON: DO NOT DUPLICATE WORK

### What Previous Session Did Wrong
**"Tried to do things which were already there, and did it worse"**

| Component | Mistakenly Rebuilt | Actual Location | Action Required |
|------------|-------------------|------------------|-----------------|
| Signal Scanner | ~/dev/mvps/services/signal-scanner/ | **Archived** Jan 29 @ ~/.archived/signal-scanner.archive-* | Use archived version |
| Scoring Engine | ~/dev/mvps/services/scoring-engine/ | **Already exists** as part of factory | Use existing |
| Morning Brief | ~/dev/mvps/services/morning-brief/ | **Already exists** | Use existing |
| Ops Agent | ~/dev/mvps/services/ops-agent/ | New, not integrated | Integrate with factory |

**Root Cause:** Didn't research existing architecture before building.

**V3 Rule:** Always check what exists first, then integrate/enhance.

---

## QUICK START FOR NEXT SESSION

```bash
# 1. Read this handover
cat /Users/p/dev/glm3/artifacts/HANDOVER_2026-02-01.md

# 2. Check infrastructure health
curl -s http://192.168.68.58:8080/health | jq                    # Brain API
curl -s http://127.0.0.1:8788/health | jq                        # opus-router
cat ~/dev/mvps/STATUS.json | jq '.summary'                        # MVP Factory

# 3. Check for existing components BEFORE building
ls -la ~/dev/mvps/.archived/                                      # What was archived?
ls -la ~/dev/mvps/services/                                       # What exists?

# 4. Query Brain for context
SOLO_API_KEY=$(grep SOLO_API_KEY ~/.config/solo/api_key.env | cut -d= -f2)
curl -s -X POST http://192.168.68.58:8080/query \
  -H "X-API-Key: $SOLO_API_KEY" -H "Content-Type: application/json" \
  -d '{"query": "SOLO project status and priorities"}'
```

---

## PROJECT: GLM3 - Strategic Coordinator

**Role:** High-level strategy, NOT execution. You orchestrate, haiku army executes.

**Key Principle:** "Context is fragile. Files are forever." - All state in file queue, context compression protection active.

**Golden Rule:** DO YOUR HOMEWORK FIRST - Deep research what already exists before writing ANY code.

---

## CURRENT STATE SUMMARY

### Completed This Session
1. **MacBook Pro M5 Max Research** (Hardware buying decision)
   - Expected release: February-March 2026
   - Thunderbolt 5 has dedicated controllers per port (major upgrade from M1)
   - **Key finding:** Apple Studio Display ports are USB-C 10Gb/s, NOT Thunderbolt pass-through
   - User has 2x external TB4 SSDs; connecting 3rd through display will bottleneck
   - Recommendation: Connect SSDs directly to Mac for max RAID speed

2. **SOLO Business Vision** (Strategic documentation)
   - Complete vision documented in `artifacts/strategy/SOLO_BUSINESS_VISION_2026-01-29.md`
   - 5 component specs defined (Dashboard, Scanner, Scoring, Ops Agent, Morning Brief)
   - Execution plan created (parallel build strategy)
   - **WARNING:** Some specs may duplicate existing components - verify before building

### Git State
- Branch: `main` (ahead of origin by 1 commit)
- Untracked: 15+ strategy artifacts in `artifacts/strategy/`
- Last commit: "Add comprehensive monitoring observability documentation"
- Action needed: `git push` to publish pending commit

---

## EXISTING SOLO ARCHITECTURE (DO NOT REBUILD)

### 1. FACTORY SYSTEM âœ… (Working, Keep)

**Location:** `/Users/p/dev/mvps/`

**Architecture:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      ORDERS.json      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cofounder  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Orchestrator â”‚
â”‚  (You)      â”‚                     â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
                                    â”‚ MVP Codersâ”‚
                                    â”‚ (Workers)â”‚
                                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
                                    â”‚STATUS.jsonâ”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Files:**
- `ORDERS.json` - Machine-readable build orders
- `STATUS.json` - Real-time progress tracking
- `features.json` - Per-MVP feature tracking
- `specs/` - Individual MVP specifications

**Current Orders (3):**
1. **ORD-001**: TaskFlow v3 (Critical priority) - Beat Things 3
2. **ORD-002**: TeenPopTastic (Gen Z social app)
3. **ORD-003**: MemecraftVibe (AI meme generator)

**Workers (9+):**
- research_v1, community_worker
- v4_anticipator_worker - Market research
- v4_community_worker - Community signals
- v4_quality_worker, v4_integrator_worker
- v4_empathy_worker, v4_critic_worker, v4_fact_checker_worker

### 2. SIGNAL PIPELINE âœ… (Already Exists, Was Archived!)

**Original Location:** `~/dev/mvps/.archived/signal-scanner.archive-20260129_132017/`

**What It Did:**
- Scanned Reddit, Twitter, Product Hunt, App Store, HN
- Enriched signals with Brain API
- Output to `~/dev/mvps/signals/queue.jsonl`
- 5-dimension AI scoring (Market, Competition, Emotional, Feasibility, Signal Quality)
- **Emotional threshold**: 96% to pass

**Current Location (Active):**
```
~/dev/mvps/signals/
â”œâ”€â”€ queue.jsonl      # Raw signals
â”œâ”€â”€ scored.jsonl     # AI-scored candidates
â””â”€â”€ top_picks.jsonl  # Top scored
```

**UNANSWERED:** Why was it archived on Jan 29? Broken? Replaced? Needs investigation.

### 3. BRAIN API âœ… (Powerful, Underutilized)

**Location:** Alienware (192.168.68.58:8080)

**Capabilities (37 tables, 485K+ records):**
- `/query` - Semantic search with HyDE
- `/query/smart` - With reranker
- `/entities` - Knowledge graph extraction
- `/insights` - Pattern analysis
- `/wisdom` - Strategic wisdom
- `/learn/session` - Store learnings

**Key Tables:**
- `research_neural` - Research findings (120K+ records)
- `kg_entities` - Knowledge graph entities
- `kg_relationships` - Entity relationships
- `mvp_validations` - MVP validation results
- `signals_raw` - Signal processing queue
- `founder_preferences` - Your decision patterns
- `architecture_decisions` - Past decisions

**Embedding:** Qwen3-VL-Embedding-2B (2048-dim, multimodal)
**Reranker:** Qwen3-VL-Reranker-2B

### 4. AI-FACTORY âœ… (Rich Resources, Not Integrated)

**Location:** `/Users/p/dev/AI-factory/`

**Contains:**
- Templates system
- Packages registry
- Kits
- Ingestion scripts (billing-signals-daily.ts, extract-emotion-signal.ts)

**Status:** Exists but not integrated with main factory.

---

## SOLO VISION: THE MORNING COFFEE WORKFLOW

```
7:00 AM: Open Business Dashboard
       â†’ See 10-30 AI-generated MVP candidates (scored & pre-analyzed)
       â†’ See revenue from live apps
       â†’ See operational health (all green)

7:02 AM: Make 3-5 Go/No-Go decisions
       â†’ "Build" â†’ Factory starts immediately
       â†’ "Pass" â†’ Archived with reasoning
       â†’ "Research" â†’ Added to queue

7:05 AM: Go about your day
       â†’ Factory builds automatically
       â†’ Ops AI handles all issues
       â†’ Only critical interruptions for emergencies
```

### The V3 Pipeline (What SHOULD Exist)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SOLO V3: INTEGRATED ENGINE                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ REACTIVATED â”‚â”€â”€â”€â–¶â”‚    BRAIN    â”‚â”€â”€â”€â–¶â”‚   FACTORY   â”‚        â”‚
â”‚  â”‚ SIGNAL      â”‚    â”‚   ENRICHMENTâ”‚    â”‚   ORDERS    â”‚        â”‚
â”‚  â”‚ SCANNER     â”‚    â”‚   (full     â”‚    â”‚   STATUS    â”‚        â”‚
â”‚  â”‚ (archived)   â”‚    â”‚   power)    â”‚    â”‚   (realtime)â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                              â”‚                  â”‚
â”‚                                              â–¼                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ AI SCORING  â”‚    â”‚    AUTO     â”‚    â”‚   MORNING   â”‚        â”‚
â”‚  â”‚ (existing)   â”‚    â”‚  SUBMIT     â”‚    â”‚   BRIEF     â”‚        â”‚
â”‚  â”‚              â”‚    â”‚  TO ORDERS  â”‚    â”‚ (existing)  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                              â–¼                  â”‚
â”‚                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                                      â”‚   YOUR 7:00 AM  â”‚     â”‚
â”‚                                      â”‚   DECISION      â”‚     â”‚
â”‚                                      â”‚   Go/No-Go       â”‚     â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## INFRASTRUCTURE STATUS (9/10 COMPLETE!)

### Services Running (Alienware: 192.168.68.58)

| Service | Port | Status | Purpose |
|---------|------|--------|---------|
| Brain API | 8080 | ğŸŸ¢ UP | Neural search, 485K+ records |
| Qwen3-VL-Embedding | 8002 | ğŸŸ¢ UP | 2048-dim multimodal embeddings |
| Qwen3-VL-Reranker | 8003 | ğŸŸ¢ UP | Cross-encoder scoring |
| LiteLLM | 4001 | ğŸŸ¢ UP | GLM routing, cost control |
| Grafana | 3000 | ğŸŸ¢ UP | Monitoring dashboards |
| Prometheus | 9090 | ğŸŸ¢ UP | Metrics collection |
| Redis | 6379 | ğŸŸ¢ UP | Caching layer |

### Services Running (Mac: 192.168.68.55)

| Service | Port | Status | Purpose |
|---------|------|--------|---------|
| opus-router | 8788 | ğŸŸ¢ UP | GLM proxy (87% cost savings) |
| - opus | â†’ Anthropic | Strategic/complex tasks |
| - sonnet | â†’ GLM-4.7 | Workhorse (200K context) |
| - haiku | â†’ GLM-4.5 | Fast parallel (10 concurrent) |

### Network Map
```
Mac (192.168.68.55)     - WiFi - Orchestrator
Alienware (192.168.68.58) - LAN  - BRAIN HOST (primary)
PC (192.168.68.50)      - LAN  - Research lab
Oracle (Meshnet)        - Remote - Backup
```

---

## STRATEGY ARTIFACTS (UNTRACKED)

All in `/Users/p/dev/glm3/artifacts/strategy/`:

```
SOLO_BUSINESS_VISION_2026-01-29.md    - Complete vision (17K)
EXECUTION_PLAN.md                      - Parallel build strategy
ARCHITECTURE_OVERVIEW.md               - System architecture (14K)
DATA_MODELS.md                         - Data structures (14K)
API_ENDPOINTS.md                       - API specs (13K)
DAILY_WORKFLOWS.md                     - Operational workflows (13K)
DEPLOYMENT_ARCHITECTURE.md             - Deployment specs (10K)
SECURITY_ARCHITECTURE.md               - Security design (11K)
SCALING_STRATEGIES.md                  - Scaling plans (14K)
FAILURE_RECOVERY.md                    - Error handling (15K)
MONITORING_OBSERVABILITY.md            - Monitoring setup (14K)
COST_ANALYSIS.md                       - Cost breakdown (6K)
SPEC_01_Business_Dashboard.md          - Dashboard spec
SPEC_02_Signal_Scanner.md              - Scanner spec (âš ï¸ may duplicate archived)
SPEC_03_AI_Scoring_Engine.md           - Scoring engine spec (âš ï¸ may duplicate existing)
SPEC_04_Ops_AI_Agent.md                - Ops agent spec
SPEC_05_Morning_Brief.md               - Morning brief spec (âš ï¸ may duplicate existing)
```

**Action needed:** These should be committed to git and ingested to Brain.
**WARNING:** Verify specs don't duplicate existing components before building.

---

## KEY DECISIONS MADE

### 1. Brain Migration to Alienware (Jan 25, 2026)
- **Decision:** Moved Brain from PC to Alienware
- **Why:** Zero network hops for embeddings, single machine for all brain services
- **Result:** 485K+ records, 166K+ after dedup, 120K in research_neural

### 2. GLM 4.7 MAX Integration (Jan 23, 2026)
- **Decision:** Route Sonnet/Haiku through Z.AI instead of Anthropic
- **Why:** 87% cost savings (~$3/mo vs $200+/mo)
- **Implementation:** opus-router on port 8788 (launchd service)

### 3. PreCompact Hook for Context Preservation
- **Decision:** Use PreCompact hook (fires at ~80% context) as PRIMARY preservation mechanism
- **Why:** SessionStart reads "cold" transcript without context

### 4. File-Based State Philosophy
- **Decision:** "Context is fragile. Files are forever" - all state in file queue
- **Why:** Survives crashes, power cycles, context compression

---

## FOUNDER PREFERENCES

### Core Principles
1. **Thorough testing after each fix** - No rushing
2. **Skills and agents are the way forward** - Use Task tool extensively
3. **Prefer symlinks over modifying originals** - Non-destructive
4. **Quality over speed** - SOTA quality or don't ship
5. **96% emotional threshold** - Products succeed by how they make users FEEL

### Working Style
- **Maximum parallelism** - Never do sequentially what can be parallel
- **Use tasks for everything** - TaskCreate before work, TaskUpdate when done
- **Query brain first** - Before deep research
- **Handover at 70% context** - Never hit compression
- **DO YOUR HOMEWORK** - Research what exists before building

### Founder Feedback on Previous Session (Critical)
- "Tried to do things which were already there, and did it worse"
- "Mixed up old, new, it is a mess"
- "Cannot use it now"
- "Need V3 that just works, integrates best, uses Brain fully"

---

## UNANSWERED QUESTIONS FOR NEXT SESSION

1. **Why was signal scanner archived on Jan 29?**
   - Was it broken?
   - Was it replaced?
   - Should we reactivate it?

2. **Which workers should run?**
   - v4_anticipator_worker - Market research
   - v4_community_worker - Community signals
   - Are they dormant or dead?

3. **What's the Brain API full capability?**
   - Are there undocumented endpoints?
   - How to use /entities, /insights, /wisdom fully?

4. **Integration points:**
   - How do scored.jsonl signals become ORDERS?
   - Does factory have auto-order capability?
   - What's the workflow?

---

## IMMEDIATE ACTION ITEMS

### High Priority (Ready Now)
1. **Push git commit** - `git push` to publish monitoring docs
2. **Commit strategy artifacts** - 15+ files to add and commit
3. **Answer unanswered questions** - Ask founder about archived scanner

### Medium Priority (After Investigation)
4. **Ingest to Brain** - Run `/learn/session` after committing
5. **Verify Grafana panels** - Check if business dashboards exist
6. **Map all workers** - Which are alive, which are dead?

### Low Priority
7. **M5 Max buying decision** - Waiting for Feb-Mar launch
8. **External SSD workaround** - TB5 dock exploration

---

## THREE STRATEGIC OPTIONS

### Option A: Investigate Before Building (RECOMMENDED)
- **What:** Answer unanswered questions, map existing components, verify what works
- **Why:** Prevents duplication, ensures clean V3 integration
- **Effort:** 1 day
- **Best if:** You want to avoid repeating previous mistakes

### Option B: Reactivate & Integrate Existing
- **What:** Bring archived scanner back online, connect scored.jsonl â†’ ORDERS.json
- **Why:** Faster than rebuilding, uses proven code
- **Effort:** 2-3 days
- **Best if:** Archived scanner is functional

### Option C: Clean V3 Implementation
- **What:** Design and build from scratch after full investigation
- **Why:** Guaranteed clean, no baggage
- **Effort:** 5+ days
- **Best if:** Existing code is broken or obsolete

---

## TECHNICAL REFERENCE

### SSH Access
```bash
ssh pc      # PC (192.168.68.50:2222) - LAN
ssh alien   # Alienware (192.168.68.58) - LAN
ssh o       # Oracle Cloud via Meshnet
```

### Quick Commands
```bash
# Check Brain health
curl http://192.168.68.58:8080/health

# Check opus-router
curl http://127.0.0.1:8788/health

# Query Brain
SOLO_API_KEY=$(grep SOLO_API_KEY ~/.config/solo/api_key.env | cut -d= -f2)
curl -s -X POST http://192.168.68.58:8080/query \
  -H "X-API-Key: $SOLO_API_KEY" -H "Content-Type: application/json" \
  -d '{"query": "your question"}'

# Restart Brain API
ssh alien 'sudo systemctl restart brain-api'

# View MVP factory status
cat ~/dev/mvps/STATUS.json | jq '.summary'

# Check archived components
ls -la ~/dev/mvps/.archived/

# Open Grafana
open http://192.168.68.58:3000
```

### Key Paths
```
~/.claude/docs/              - SOLO documentation
~/.config/solo/api_key.env   - API key (chmod 600)
~/dev/mvps/                  - MVP Orchestrator
~/dev/mvps/signals/          - Signal pipeline output
~/dev/mvps/.archived/        - Archived components (CHECK THIS!)
~/dev/mvps/services/         - New services (VERIFY NOT DUPLICATES)
~/dev/opus-router/           - GLM proxy
~/dev/worktree-manager/      - Git worktree pool
~/dev/AI-factory/            - Templates, packages, kits
/Users/p/dev/glm3/           - This project (strategy)
```

---

## RESEARCH NOTES: MacBook Pro M5 Max

### Timeline
- **Expected release:** February-March 2026
- **Source:** Mark Gurman (Bloomberg) - "First half of 2026"
- **Signal:** Shipping delays on M4 Max models = inventory clearing

### Thunderbolt 5 Discovery
- **M1 Max limitation:** 2 ports shared 1 controller (bandwidth split)
- **M4/M5 Max improvement:** ONE controller PER PORT (dedicated bandwidth)
- **Impact:** Your TB4 RAID setup will be MUCH faster on M5 Max

### Studio Display Limitation
- **Ports:** 3x USB-C downstream (up to 10Gb/s)
- **NOT Thunderbolt pass-through** - only USB 3.2 Gen 2
- **Impact:** Cannot connect TB4 SSD through display for max speed
- **Solution:** Connect SSDs directly to Mac's TB5 ports

### SSD Sizing for AI Research
- **Model sizes (Q4 quantization):**
  - 8B: ~5-6 GB
  - 32B: ~20-22 GB
  - 70B: ~42-45 GB
  - 405B: ~240-280 GB
- **Recommendation:** 1TB base + external TB4 RAID for models

---

## SESSION HANDOFF CHECKLIST

- [x] Infrastructure health confirmed
- [x] Current state documented
- [x] Key decisions recorded
- [x] Next steps identified
- [x] Duplicate work warning added
- [ ] Git push completed
- [ ] Strategy artifacts committed
- [ ] Brain ingestion completed
- [ ] Archived scanner investigated

---

## FINAL NOTES

**"The Ferrari is built. Now we need to drive it."**

Infrastructure at 9/10. Vision is clear.

**The bottleneck is NOT technical - it's strategic focus.**

**Core questions:**
1. What ONE thing should we build first?
2. Should we use existing (archived) scanner or rebuild?
3. How do we make Brain the central intelligence for EVERYTHING?

**REMEMBER:** DO YOUR HOMEWORK FIRST. Research what exists before building.

---

*End of Comprehensive Handover - 2026-02-01*
*Next session: Read this first, investigate existing, THEN decide on direction*
